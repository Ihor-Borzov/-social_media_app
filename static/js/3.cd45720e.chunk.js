(this.webpackJsonpmuchoppp=this.webpackJsonpmuchoppp||[]).push([[3],{290:function(t,e,o){t.exports={aboutUser:"ProfileInfo_aboutUser__m_JrV",wrapper:"ProfileInfo_wrapper__3HMwr",userImgWrapper:"ProfileInfo_userImgWrapper__3ewxk",photoUpload:"ProfileInfo_photoUpload__26i6Y",inputFile:"ProfileInfo_inputFile__2LEOq",profileStatus:"ProfileInfo_profileStatus__3U1HC",userInfo:"ProfileInfo_userInfo__2z2Q-",editButton:"ProfileInfo_editButton___LMnb",fullName:"ProfileInfo_fullName__1VaUt",aboutMe:"ProfileInfo_aboutMe__128uz",lookingForAJob:"ProfileInfo_lookingForAJob__1nDc6",JobDescription:"ProfileInfo_JobDescription__26Nsg",item_social:"ProfileInfo_item_social__1alaM",error:"ProfileInfo_error__zZOLs"}},291:function(t,e,o){t.exports={content:"Profile_content__2ZW2I"}},292:function(t,e,o){t.exports={profileDataForm:"ProfileDataForm_profileDataForm__2QzaJ",lookingForAJob:"ProfileDataForm_lookingForAJob__3U0U-",contacts:"ProfileDataForm_contacts__g_BqR",contact_item:"ProfileDataForm_contact_item__9Jqug",buttons:"ProfileDataForm_buttons__Uq9s6",submitButton:"ProfileDataForm_submitButton__1iMTA",discardButton:"ProfileDataForm_discardButton__GbmcH"}},293:function(t,e,o){t.exports={posts:"MyPosts_posts__3A-t5",addPostButton:"MyPosts_addPostButton__TZN9U",post:"MyPosts_post__1hiE0"}},294:function(t,e,o){t.exports={item:"Post_item__2LN1y",pick:"Post_pick__3KbtI",receivedText:"Post_receivedText__3NaxA"}},299:function(t,e,o){"use strict";o.r(e);var s=o(3),a=o(26),r=o(29),c=o(27),n=o(0),i=o.n(n),l=o(14),u=o(7),b=o(11),j=o(1),d=o(64),p=o(291),f=o.n(p),m=o(28),h=o(122),_=o(101),O=o(290),x=o.n(O),P={facebook:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/2021_Facebook_icon.svg/800px-2021_Facebook_icon.svg.png",instagram:"https://tbrsteakhouse.com/wp-content/uploads/2018/11/instagram-colourful-icon.png",youtube:"https://cdn3.iconfinder.com/data/icons/2018-social-media-logotypes/1000/2018_social_media_popular_app_logo_youtube-512.png",website:"http://cdn.onlinewebfonts.com/svg/img_504359.png",github:"https://cdn-icons-png.flaticon.com/512/25/25231.png"};var g=function(t){var e=t.contactValue,o=t.contactTitle;return Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",children:Object(j.jsx)("img",{src:P[o],alt:"social media links"})})})},v=function(t){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:x.a.fullName,children:[" ",t.userProfile.fullName]}),Object(j.jsxs)("div",{className:x.a.aboutMe,children:["  ",Object(j.jsx)("div",{children:t.userProfile.aboutMe}),"  "]}),Object(j.jsxs)("div",{className:x.a.lookingForAJob,children:["Looking for a job: ",t.userProfile.lookingForAJob?Object(j.jsx)("span",{style:{color:"green"},children:"yes"}):Object(j.jsx)("span",{children:"no"}),"  "]}),Object(j.jsxs)("div",{className:x.a.JobDescription,children:[" ",t.userProfile.lookingForAJobDescription?"my professional skills: ".concat(t.userProfile.lookingForAJobDescription," "):null]}),Object(j.jsxs)("ul",{className:x.a.item_social,children:[Object(j.jsx)("b",{children:"Contacts : "}),Object.keys(t.userProfile.contacts).map((function(e){return t.userProfile.contacts[e]&&P.hasOwnProperty(e)?Object(j.jsx)(g,{contactTitle:e,contactValue:t.userProfile.contacts[e]},e):null}))]}),t.isOwner&&Object(j.jsx)("button",{className:x.a.editButton,onClick:function(){t.setEditMode(!0)},children:"Edit"})]})},N=o(124),k=o(45),I=o(292),y=o.n(I),F=Object(N.a)({form:"profileDataA"})((function(t){return Object(j.jsxs)("form",{onSubmit:t.handleSubmit,className:y.a.profileDataForm,children:[t.error&&Object(j.jsxs)("div",{style:{color:"red"},children:[" ",t.error]}),Object(j.jsx)("div",{children:Object(k.c)("Full name","fullName",[],k.a)}),Object(j.jsx)("div",{children:Object(k.c)("About me","aboutMe",[],k.b)}),Object(j.jsxs)("div",{className:y.a.lookingForAJob,children:["Looking for a job: ",Object(k.c)("","lookingForAJob",[],k.a,{type:"checkbox"})," "]}),Object(j.jsxs)("div",{children:[Object(k.c)("My professional skills","lookingForAJobDescription",[],k.b)," "]}),Object(j.jsxs)("ul",{className:y.a.contacts,children:[Object(j.jsx)("b",{children:"Contacts : "}),Object.keys(t.userProfile.contacts).map((function(t){return P[t]?Object(j.jsx)("div",{className:y.a.contact_item,children:Object(k.c)("".concat(t),"contacts.".concat(t),[],k.a)},t):null}))]}),Object(j.jsxs)("div",{className:y.a.buttons,children:[Object(j.jsx)("button",{className:y.a.submitButton,children:"Submit"}),Object(j.jsx)("div",{className:y.a.discardButton,onClick:function(){t.setEditMode(!1)},children:"Discard changes"})]})]})})),D=function(t){var e=Object(n.useState)(!1),o=Object(m.a)(e,2),s=o[0],a=o[1],r=Object(n.useState)(t.status),c=Object(m.a)(r,2),i=c[0],l=c[1];Object(n.useEffect)((function(){l(t.status)}),[t.status]);return Object(j.jsxs)("div",{children:[!s&&Object(j.jsx)("span",{onDoubleClick:function(){a(!0)},children:t.status?"Status : ".concat(t.status):"-----"}),s&&Object(j.jsx)("textarea",{autoFocus:!0,value:i,onBlur:function(){a(!1),t.updateStatus(i)},onChange:function(t){l(t.target.value)}})]})};var A=function(t){var e=Object(n.useState)(!1),o=Object(m.a)(e,2),a=o[0],r=o[1],c=i.a.createRef();return t.userProfile?Object(j.jsx)("div",{className:x.a.aboutUser,children:Object(j.jsxs)("div",{className:x.a.wrapper,children:[t.errorFlag&&Object(j.jsx)("div",{className:x.a.error,children:"An error occurred in data fetching"}),Object(j.jsxs)("div",{className:x.a.userImgWrapper,ref:c,children:[t.isFetching?Object(j.jsx)(_.a,{}):Object(j.jsx)("img",{src:null!=t.userProfile.photos.large?t.userProfile.photos.large:h.a,alt:"avatar"}),t.isOwner&&Object(j.jsx)("label",{className:x.a.photoUpload,children:Object(j.jsx)("input",{className:x.a.inputFile,type:"file",onChange:function(e){!function(e){e.target.files.length&&t.savePhoto(e.target.files[0])}(e)}})})]}),Object(j.jsxs)("div",{className:x.a.profileStatus,children:["  ",Object(j.jsx)(D,{status:t.status,updateStatus:t.updateStatus}),"    "]}),Object(j.jsx)("div",{className:x.a.userInfo,children:a?Object(j.jsx)(F,Object(s.a)(Object(s.a)({},t),{},{initialValues:t.userProfile,onSubmit:function(e){t.saveProfile(e).then((function(){r(!1)})).catch((function(t){console.log(t)}))},setEditMode:r})):Object(j.jsx)(v,Object(s.a)(Object(s.a)({},t),{},{setEditMode:r}))})]})}):Object(j.jsx)(_.a,{})},S=o(88),J=o(47),w=o(293),M=o.n(w),U=o(294),B=o.n(U);var C=function(t){return Object(j.jsxs)("div",{className:B.a.item,children:[Object(j.jsx)("div",{className:B.a.pick,children:Object(j.jsx)("img",{src:"https://partycity6.scene7.com/is/image/PartyCity/_pdp_sq_?$_500x500_$&$product=PartyCity/P880795",alt:"Post"})}),Object(j.jsxs)("div",{className:B.a.receivedText,children:[t.message,"                      "]}),Object(j.jsx)("div",{children:Object(j.jsx)("span",{children:"LIKES  "+t.likes})})]})};var z=Object(J.a)(300),E=Object(N.a)({form:"NewPost"})((function(t){return Object(j.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(j.jsx)("div",{className:M.a.post,children:Object(j.jsx)(S.a,{name:"myPostText",component:k.b,validate:[J.b,z],placeholder:"your comment here",children:" "})}),Object(j.jsx)("button",{className:M.a.addPostButton,children:"Add post"})]})})),T=function(t){var e=t.state.postsData.map((function(t){return Object(j.jsx)(C,{likes:t.likes,message:t.message},t.likes)}));return Object(j.jsxs)("div",{className:M.a.myPosts,children:[Object(j.jsx)("div",{children:Object(j.jsx)(E,{onSubmit:function(e){t.addPost(e.myPostText)}})}),Object(j.jsx)("div",{className:M.a.posts,children:e})]})},L=Object(l.b)((function(t){return{state:t.myPostsPage}}),(function(t){return{addPost:function(e){t(Object(d.a)(e))}}}))(T);var q=function(t){return Object(j.jsxs)("div",{className:f.a.content,children:["  ",Object(j.jsx)(A,Object(s.a)({},t)),Object(j.jsx)(L,{})]})},V=function(t){Object(r.a)(o,t);var e=Object(c.a)(o);function o(){var t;Object(a.a)(this,o);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(t=e.call.apply(e,[this].concat(c))).refreshProfile=function(){var e;(e=!t.props.match||isNaN(t.props.match.params.userId)?t.props.authorizedId?t.props.authorizedId:null:t.props.match.params.userId)&&(t.props.getUserProfile(e),t.props.getStatus(e))},t.componentDidMount=function(){t.refreshProfile()},t.componentDidUpdate=function(e,o,s){t.props.match&&t.props.match.params.userId!==e.match.params.userId&&t.refreshProfile()},t.render=function(){return null!==t.props.authorizedId||"null"!==t.props.match.params.userId&&!isNaN(t.props.match.params.userId)?Object(j.jsx)(q,Object(s.a)(Object(s.a)({},t.props),{},{isOwner:+t.props.match.params.userId===t.props.authorizedId})):Object(j.jsx)(u.a,{to:"/login"})},t}return o}(i.a.Component);e.default=Object(b.d)(Object(l.b)((function(t){return{userProfile:t.myPostsPage.userProfile,isAuth:t.auth.isAuth,status:t.myPostsPage.status,authorizedId:t.auth.id,isFetching:t.myPostsPage.isFetching,errorFlag:t.myPostsPage.errorFlag}}),{getUserProfile:d.d,getStatus:d.c,updateStatus:d.h,savePhoto:d.e,saveProfile:d.f}),(function(t){return function(e){var o=Object(u.g)("/profile/:userId");return Object(j.jsx)(t,Object(s.a)(Object(s.a)({},e),{},{match:o}))}}))(V)}}]);
//# sourceMappingURL=3.cd45720e.chunk.js.map